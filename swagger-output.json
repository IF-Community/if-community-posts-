{
  "swagger": "2.0",
  "info": {
    "version": "v1.0.0",
    "title": "Microservice Posts",
    "description": "Microservice from the \"If community\" project for managing posts and their categories and interactions (upvotes)"
  },
  "host": "localhost:3000",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "securityDefinitions": {
    "apiKeyAuth": {
      "type": "apiKey",
      "in": "header",
      "name": "api-token",
      "description": "An API token is a unique access key that grants permission to interact with the API, ensuring security and control over the operations performed."
    }
  },
  "paths": {
    "/users": {
      "post": {
        "tags": [
          "Users"
        ],
        "description": "adding new user to microservice",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 1
                },
                "name": {
                  "type": "string",
                  "example": "joão da silva"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 5
                },
                "name": {
                  "type": "string",
                  "example": "joão da silva"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-19T11:11:43.799Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "409": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Um usuário com esse id já está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Conflict"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Users"
        ],
        "description": "lists all users registered in the system",
        "parameters": [
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Number informing which page the search should return\n (pattern 1)",
            "type": "number"
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Number informing the number of elements per page\n (pattern 10)",
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "totalPages": {
                  "type": "number",
                  "example": 1
                },
                "results": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "number",
                        "example": 2
                      },
                      "name": {
                        "type": "string",
                        "example": "maria da silva"
                      },
                      "createdAt": {
                        "type": "string",
                        "example": "2024-05-19T11:11:43.799Z"
                      },
                      "updatedAt": {
                        "type": "string",
                        "example": "null"
                      },
                      "deletedAt": {
                        "type": "string",
                        "example": "null"
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "description": "search for a user by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The user ID that was registered in the system"
          }
        ],
        "responses": {
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Um usuário com esse id não está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "description": "update user specified by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The user ID that was registered in the system"
          },
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "joão da silva pereira"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 5
                },
                "name": {
                  "type": "string",
                  "example": "joão da silva pereira"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-19T11:11:43.799Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Um usuário com esse id não está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "description": "removes a user from the specified id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The user ID that was registered in the system"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "delete": {
                  "type": "boolean",
                  "example": true
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Usuário não encontrado para exclusão"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/categories": {
      "post": {
        "tags": [
          "Categories"
        ],
        "description": "adding new category to microservice",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "category data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "Tecnologia da informação"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "Tecnologia da informação"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "id": {
                  "type": "number",
                  "example": 3
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-18T12:23:36.854Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "409": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "Uma categoria com esse nome já foi cadastrada no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Conflict"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Categories"
        ],
        "description": "lists all categories registered in the system",
        "parameters": [
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Number informing which page the search should return\n (pattern 1)",
            "type": "number"
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Number informing the number of elements per page\n (pattern 10)",
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "totalPages": {
                  "type": "number",
                  "example": 1
                },
                "results": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "number",
                        "example": 1
                      },
                      "createdAt": {
                        "type": "string",
                        "example": "2024-05-19T13:38:28.030Z"
                      },
                      "updatedAt": {
                        "type": "string",
                        "example": "null"
                      },
                      "deletedAt": {
                        "type": "string",
                        "example": "null"
                      },
                      "name": {
                        "type": "string",
                        "example": "Tecnologia"
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/categories/{id}": {
      "get": {
        "tags": [
          "Categories"
        ],
        "description": "search for a category by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The category ID"
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "Tecnologia da informação"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "id": {
                  "type": "number",
                  "example": 3
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-18T12:23:36.854Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Categoria com esse id não está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Categories"
        ],
        "description": "update category specified by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The category ID"
          },
          {
            "name": "body",
            "in": "body",
            "description": "category data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "Tecnologia da informação"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "Tecnologia da informação"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "id": {
                  "type": "number",
                  "example": 3
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-18T12:23:36.854Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Categoria com esse id não está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "409": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "Uma categoria com esse nome já foi cadastrada no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Conflict"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Categories"
        ],
        "description": "removes a category from the specified id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The category ID"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "delete": {
                  "type": "boolean",
                  "example": true
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Categoria com esse id não está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/posts": {
      "post": {
        "tags": [
          "Posts"
        ],
        "description": "adding new post to microservice",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Post data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "title": {
                  "type": "string",
                  "example": "titulo do post aqui"
                },
                "content": {
                  "type": "string",
                  "example": "algum conteudo aqui..."
                },
                "categories": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "example": "Programação"
                      }
                    }
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "title": {
                  "type": "string",
                  "example": "testando post 3"
                },
                "content": {
                  "type": "string",
                  "example": "testando 1234"
                },
                "categories": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "example": "Programação"
                      }
                    }
                  }
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "id": {
                  "type": "number",
                  "example": 1
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-19T16:40:49.565Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                },
                "totalUpvotes": {
                  "type": "number",
                  "example": 0
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Um usuário com esse id não está cadastrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Posts"
        ],
        "description": "lists all posts registered in the system",
        "parameters": [
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Number informing which page the search should return\n (pattern 1)",
            "type": "number"
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Number informing the number of elements per page\n (pattern 10)",
            "type": "number"
          },
          {
            "name": "popularity",
            "in": "query",
            "description": "Sorting data by popularity or most recent\n (pattern false)",
            "type": "boolean"
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "totalPages": {
                  "type": "number",
                  "example": 1
                },
                "results": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "number",
                        "example": 1
                      },
                      "createdAt": {
                        "type": "string",
                        "example": "2024-05-19T16:40:49.565Z"
                      },
                      "updatedAt": {
                        "type": "string",
                        "example": "null"
                      },
                      "deletedAt": {
                        "type": "string",
                        "example": "null"
                      },
                      "title": {
                        "type": "string",
                        "example": "testando post 3"
                      },
                      "content": {
                        "type": "string",
                        "example": "testando 1234"
                      },
                      "totalUpvotes": {
                        "type": "number",
                        "example": 0
                      },
                      "posts_categories": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "category": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "number",
                                  "example": 5
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Programação"
                                }
                              }
                            }
                          }
                        }
                      },
                      "user": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 1
                          },
                          "createdAt": {
                            "type": "string",
                            "example": "2024-05-19T11:01:59.858Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "example": "null"
                          },
                          "name": {
                            "type": "string",
                            "example": "joão doria"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/posts/categories": {
      "get": {
        "tags": [
          "Posts/Categories"
        ],
        "description": "lists posts by categories",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "tags": {
                  "type": "array",
                  "example": [
                    "Tecnologia",
                    "IFRN"
                  ],
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Number informing which page the search should return\n (pattern 1)",
            "type": "number"
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Number informing the number of elements per page\n (pattern 10)",
            "type": "number"
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "totalPages": {
                  "type": "number",
                  "example": 1
                },
                "results": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "postid": {
                        "type": "number",
                        "example": 1
                      },
                      "post_title": {
                        "type": "string",
                        "example": "testando post 3"
                      },
                      "post_content": {
                        "type": "string",
                        "example": "testando 1234"
                      },
                      "post_upvotes": {
                        "type": "string",
                        "example": "0"
                      },
                      "created_at": {
                        "type": "string",
                        "example": "2024-05-19T16:40:49.565Z"
                      },
                      "updated_at": {
                        "type": "string",
                        "example": "null"
                      },
                      "user": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 1
                          },
                          "name": {
                            "type": "string",
                            "example": "joão doria"
                          }
                        }
                      },
                      "categories": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "number",
                              "example": 3
                            },
                            "name": {
                              "type": "string",
                              "example": "Programação"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/posts/{id}": {
      "get": {
        "tags": [
          "Posts"
        ],
        "description": "search post for ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The post ID"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 1
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-19T16:40:49.565Z"
                },
                "updatedAt": {},
                "deletedAt": {},
                "title": {
                  "type": "string",
                  "example": "testando post 3"
                },
                "content": {
                  "type": "string",
                  "example": "testando 1234"
                },
                "totalUpvotes": {
                  "type": "number",
                  "example": 0
                },
                "userId": {
                  "type": "string",
                  "example": "1"
                },
                "posts_categories": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "category": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 3
                          },
                          "name": {
                            "type": "string",
                            "example": "Programação"
                          }
                        }
                      }
                    }
                  }
                },
                "user": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number",
                      "example": 1
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2024-05-19T11:01:59.858Z"
                    },
                    "updatedAt": {},
                    "name": {
                      "type": "string",
                      "example": "joão doria"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "O post com o id informado não foi encontrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Posts"
        ],
        "description": "search for a post ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The post ID"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 1
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-19T16:40:49.565Z"
                },
                "updatedAt": {},
                "deletedAt": {},
                "title": {
                  "type": "string",
                  "example": "testando post 3"
                },
                "content": {
                  "type": "string",
                  "example": "testando 1234"
                },
                "totalUpvotes": {
                  "type": "number",
                  "example": 0
                },
                "userId": {
                  "type": "string",
                  "example": "1"
                },
                "posts_categories": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "category": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 3
                          },
                          "name": {
                            "type": "string",
                            "example": "Programação"
                          }
                        }
                      }
                    }
                  }
                },
                "user": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number",
                      "example": 1
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2024-05-19T11:01:59.858Z"
                    },
                    "updatedAt": {},
                    "name": {
                      "type": "string",
                      "example": "joão doria"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "O post com o id informado não foi encontrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Posts"
        ],
        "description": "removes a post from the specified id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The post ID"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "delete": {
                  "type": "boolean",
                  "example": true
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Post não encontrado para exclusão"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/posts/users/{id}": {
      "get": {
        "tags": [
          "Posts/Users"
        ],
        "description": "lists all posts by user ID registered in the system",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "number",
            "description": "The post ID"
          },
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Number informing which page the search should return\n (pattern 1)",
            "type": "number"
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Number informing the number of elements per page\n (pattern 10)",
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number",
                      "example": 1
                    },
                    "name": {
                      "type": "string",
                      "example": "João da costa"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2024-05-16T10:53:50.187Z"
                    },
                    "updatedAt": {
                      "type": "string",
                      "example": "2024-05-16T11:42:44.511Z"
                    },
                    "deletedAt": {
                      "type": "string",
                      "example": "null"
                    }
                  }
                },
                "totalPages": {
                  "type": "number",
                  "example": 1
                },
                "posts": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "number",
                        "example": 3
                      },
                      "createdAt": {
                        "type": "string",
                        "example": "2024-05-16T12:46:38.293Z"
                      },
                      "updatedAt": {
                        "type": "string",
                        "example": "2024-05-16T12:56:22.475Z"
                      },
                      "deletedAt": {
                        "type": "string",
                        "example": "null"
                      },
                      "title": {
                        "type": "string",
                        "example": "testando post 3"
                      },
                      "content": {
                        "type": "string",
                        "example": "testando 1234"
                      },
                      "totalUpvotes": {
                        "type": "number",
                        "example": 1
                      },
                      "userId": {
                        "type": "string",
                        "example": "1"
                      },
                      "posts_categories": {
                        "type": "array",
                        "example": [],
                        "items": {}
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/posts/search/{search}": {
      "get": {
        "tags": [
          "Posts/Search"
        ],
        "description": "lists all posts by Search string (search by title and content)",
        "parameters": [
          {
            "name": "search",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The post search parameters"
          },
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Number informing which page the search should return\n (pattern 1)",
            "type": "number"
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Number informing the number of elements per page\n (pattern 10)",
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "totalPages": {
                  "type": "number",
                  "example": 1
                },
                "results": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "number",
                        "example": 4
                      },
                      "createdAt": {
                        "type": "string",
                        "example": "2024-05-20T01:23:03.842Z"
                      },
                      "updatedAt": {},
                      "deletedAt": {},
                      "title": {
                        "type": "string",
                        "example": "alguma coisa aqui mano"
                      },
                      "content": {
                        "type": "string",
                        "example": "tecnologia e analise de sistemas"
                      },
                      "totalUpvotes": {
                        "type": "number",
                        "example": 0
                      },
                      "posts_categories": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "category": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "number",
                                  "example": 3
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Programação"
                                }
                              }
                            }
                          }
                        }
                      },
                      "user": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "example": 1
                          },
                          "createdAt": {
                            "type": "string",
                            "example": "2024-05-19T11:01:59.858Z"
                          },
                          "updatedAt": {},
                          "name": {
                            "type": "string",
                            "example": "joão doria"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/votes": {
      "post": {
        "tags": [
          "Votes (Upvotes)"
        ],
        "description": "adding interation(upvote) user to microservice",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "postId": {
                  "type": "number",
                  "example": 1
                },
                "upvote": {
                  "type": "boolean",
                  "example": true
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "postId": {
                  "type": "number",
                  "example": 1
                },
                "upvote": {
                  "type": "boolean",
                  "example": true
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "id": {
                  "type": "number",
                  "example": 1
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-20T00:20:37.690Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Created"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Votes (Upvotes)"
        ],
        "description": "search for a user by ID and a post ID",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "postId": {
                  "type": "number",
                  "example": 1
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 6
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-16T12:39:10.306Z"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "null"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                },
                "upvote": {
                  "type": "boolean",
                  "example": true
                },
                "userId": {
                  "type": "string",
                  "example": "1"
                },
                "postId": {
                  "type": "string",
                  "example": "1"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "voto não encontrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Votes (Upvotes)"
        ],
        "description": "adding interation(upvote) user to microservice",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "postId": {
                  "type": "number",
                  "example": 1
                },
                "upvote": {
                  "type": "boolean",
                  "example": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "example": 6
                },
                "createdAt": {
                  "type": "string",
                  "example": "2024-05-16T12:39:10.306Z"
                },
                "updatedAt": {
                  "type": "string",
                  "example": "2024-05-16T12:40:27.328Z"
                },
                "deletedAt": {
                  "type": "string",
                  "example": "null"
                },
                "upvote": {
                  "type": "boolean",
                  "example": false
                },
                "userId": {
                  "type": "string",
                  "example": "1"
                },
                "postId": {
                  "type": "string",
                  "example": "1"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Votes (Upvotes)"
        ],
        "description": "removes a vote from the specified user id and post id",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "User data.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "number",
                  "example": 1
                },
                "postId": {
                  "type": "number",
                  "example": 1
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "schema": {
              "type": "object",
              "properties": {
                "delete": {
                  "type": "boolean",
                  "example": true
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "OK"
          },
          "400": {
            "schema": {
              "type": "object",
              "properties": {
                "errors": {
                  "type": "string",
                  "example": "(error message) no (parameter)"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Token inválido. Forneça um token de autenticação válido."
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Unauthorized"
          },
          "404": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "voto não encontrado no sistema"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Not Found"
          },
          "500": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Internal Server Error"
                }
              },
              "xml": {
                "name": "main"
              }
            },
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    }
  }
}